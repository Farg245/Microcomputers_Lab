LXI B,03E8H ;ARXIKOPOIW TON DIPLO KATAXORITI BC=1000 -> oste na exw 1s delay
MVI E,FFH ; ARKIKOPOIW E=0 


START:
LDA 2000H ;A=(2000) TIMES 4 DEKSIOTERWN LSB TIS THIRAS 2000Hex
ANI 0FH ; APOMONONW TA 4 LSB, AN TO ACCUMULATOR EINAI 0FH TO JZ APO KATO VGAZEI Z=1 KAI KSEKINAW APO TIN ARXI,
JZ START  ; KSANA PIGAINW STIN ARXI AN EXW MIDENIKO APOTELESMA Z=1
MOV D,A ; D=4LSB

UP:
LDA 2000H ; 
ANI 80H   ; ELEGXW AN TO MSB EINAI OFF
JZ UP

INR E      ; AUKSANW TON METRITI MEXRI NA GINEI 4
MOV A,E    ; EKXORO TIN TIMI TOU STON AKTAXORITI A OSTE NA KALESW TIN DELB
CALL DELB  ; KATHISTERW 1 SEC KALONTAS TIN DELB
CMA        ; SIMPLIRONEI TON ACCUMULATOR
STA 3000H ; EMFANISI TOU KATAXORITI STA LED
CMA
CMP D ; SIGKRINEI TA CONTENTS TOU ACCULUMATOR ME TON KATAXORITI D/ OUSIASTIKA ELEGXOUME AMA FTASAME TA 4 lsb

JNZ UP   ; KSANAPIGAINE STIN UP AN A-D <>0

DOWN:
LDA 2000H ; ELEGXW AN TO MSB EINAI OFF
ANI 80H    ; ELEGXW AN TO MSB EINAI OFF
JZ DOWN    ; ELEGXW AN TO MSB EINAI OFF

DCR E       ; MEIWNW TO COUNTER MEXRI NA GINEI 0 
MOV A,E     ;METAFERW TIN TIMI TOU COUNTER STON KATAXORITI
CALL DELB 
CMA
STA 3000H ; EMFANISI TOU KATAXORITI  STA LED
CMA
CPI 00H ; MEXRI NA FTASEI TO ACUMM 0
JNZ DOWN
JMP START 
END