; MEM[0A00H] :: 7 SEGMENT DISPLAY 

PREPS:	IN 10H		;get rid of memory limitations

START:	CALL KIND	; diavazo x apo to pliktrologio
		MOV B,A	; ekxoro sto B to X pou diavasa
		CALL KIND	; diavazo y apo to pliktrologio
		MOV C,A	;ekxoro sto C to Y pou diavasa
				
		MOV A,B	; kano rotate 4 fores ston accummulator afou thesw A=x oste na pollaplsiasw me 2^4
		RLC		;A=2x
		RLC		;A=4x
		RLC		;A=8x
		RLC		;A=16x  
		ADD C	;A=16x+y    kai afou pollaplasiasw me 16 prosthetw kai to Y
				
		MVI C,FFH	;KANO ILOPOIISI METRITI EKATONTADON C=-1 / O KATAXORITIS A EXEI TO APOTELESMA SE DEKAEKSAEDIKI MORFI
HUNDREDS:	
		INR C		;C=C+1 O METRITIS ARXIKOPOIEITE -1,KAI GINETAI AMESWS 0
		SUI 64H       ; AFAIRO 100 APO TON A,
		JNC HUNDREDS	;OSO TO CY=0 SINEXIZW NA AFAIRO 100 APO TON A AUKSANONTAS ETSI TO COUNTER C TON EKATONTADWN
		ADI 64H	;OTAN STAMATISEI I EPANALIPSI TO A THA EINAI MIKROTERO TOU 0 ARA THA TOU PROSTHESW KSANA 100     
				
		MVI B,FFH	;KANO ILOPOIISI METRITI DEKADON B=-1 / O KATAXORITIS A EXEI TA 2 TELEUTAIA PSIFIA TOU APOTELESMATOS SE DEKAEDIKI MORFI
	

DECADES:
		INR B		;B=B+1 O METRITIS ARXIKOPOIEITE -1,KAI GINETAI AMESWS 0

		SUI 0AH		;AFAIRO 10 APO TON A,

		JNC DECADES	;OSO TO CY=0 SINEXIZW NA AFAIRO 100 APO TON A AUKSANONTAS ETSI TO COUNTER B TON DEKADWN
		ADI 0AH		;OTAN STAMATISEI I EPANALIPSI TO A THA EINAI MIKROTERO TOU 0 ARA THA TOU PROSTHESW KSANA 10

		LXI H,0A02H	;STON DIPLO KATAXORITI HL FORTWNW TIn THESI TOU 3OU LED TWN EKATONTADWN ( APO DEKSIA)
		MOV M,C		;fortwnw ekatontades stin mnimi
		DCX H		;MEIWNW TON KATAXORITI KATA 1 OSTE NA DEIXNEI STI NTHESI TWN DEKADWN
		MOV M,B		;fortwnw dekades sti mnimi
		DCX H		;MEIWNW TON KATAXORITI KATA 1 OSTE NA DEIXNEI STI NTHESI TWN MONADWN

		MOV M,A		;fortwnw monades stin mnimi

		LXI D,0A00H	;STON DIPLO KATAXORITI DE FORTWNW TIN PERIOXI POU PERIEXEI TOUS 6 XARAKTIRES PROS EKTIPWSI
		CALL STDM	;PAIRNEI TIN DE POU BRISKONTAI OI XARAKTIRES KAI TOUS DINEI STIN ROUTINA DCD STIN(0BF0-0BF5)HEX

					
		CALL DCD	;print on displays
		JMP START	;refresh screen and get new inputs

END